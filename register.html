<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - FarmSafe Portal</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#f1f8e9,#c8e6c9);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
        .register-container{background:white;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.1);overflow:hidden;max-width:900px;width:100%;display:grid;grid-template-columns:1fr 1fr;min-height:600px}
        .register-left{background:linear-gradient(135deg,#2c5530,#4a7c59);color:white;padding:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}
        .register-left h1{font-size:2.2rem;margin-bottom:20px}
        .register-left p{font-size:1.1rem;line-height:1.6;margin-bottom:30px;opacity:.9}
        .features-list{list-style:none;text-align:left}
        .features-list li{margin-bottom:15px;display:flex;align-items:center;gap:10px}
        .features-list li::before{content:"✓";background:rgba(255,255,255,.2);border-radius:50%;width:25px;height:25px;display:flex;align-items:center;justify-content:center;font-weight:bold}
        .register-right{padding:40px;display:flex;flex-direction:column;justify-content:center}
        .register-header{text-align:center;margin-bottom:30px}
        .register-header h2{color:#2c5530;font-size:1.8rem;margin-bottom:10px}
        .register-header p{color:#666;font-size:1rem}
        .register-form{display:flex;flex-direction:column;gap:20px}
        .form-row{display:grid;grid-template-columns:1fr 1fr;gap:15px}
        .form-group{display:flex;flex-direction:column;gap:8px}
        .form-group.full-width{grid-column:1/-1}
        .form-group label{font-weight:600;color:#2c5530;font-size:.9rem}
        .form-group input,.form-group select,.form-group textarea{padding:12px 15px;border:2px solid #e0e0e0;border-radius:10px;font-size:1rem;background:#fafafa;transition:.3s}
        .form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:#4caf50;background:white;transform:translateY(-2px);box-shadow:0 5px 15px rgba(76,175,80,.2)}
        textarea{resize:vertical;min-height:80px}
        .register-btn{background:linear-gradient(135deg,#4caf50,#45a049);color:white;border:none;padding:15px 30px;border-radius:25px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:.3s;margin-top:10px}
        .register-btn:disabled{background:#ccc;cursor:not-allowed}
        .success-message,.error-message{text-align:center;margin-bottom:20px;display:none;padding:15px;border-radius:10px;color:white}
        .success-message{background:linear-gradient(135deg,#4caf50,#45a049)}
        .error-message{background:linear-gradient(135deg,#f44336,#d32f2f)}
        @media(max-width:768px){.register-container{grid-template-columns:1fr;max-width:500px}}
    </style>
</head>
<body>
    <div class="register-container">
        <div class="register-left">
            <h1>Join FarmSafe Portal</h1>
            <p>Start managing your farm's compliance and safety with our platform.</p>
            <ul class="features-list">
                <li>Real-time MRL monitoring</li>
                <li>AMU tracking & compliance</li>
                <li>Mobile app access</li>
                <li>Expert support</li>
                <li>Government compliance</li>
            </ul>
        </div>

        <div class="register-right">
            <div class="register-header">
                <h2>Create Your Account</h2>
                <p>Fill in your details to get started</p>
            </div>

            <div class="success-message" id="successMessage">✅ Registration successful!</div>
            <div class="error-message" id="errorMessage">❌ Please check your inputs.</div>

            <!-- ✅ Registration Form -->
            <form class="register-form" id="registerForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>First Name *</label>
                        <input type="text" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label>Last Name *</label>
                        <input type="text" name="lastName" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label>Phone *</label>
                        <input type="tel" name="phone" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Password *</label>
                        <input type="password" name="password" required minlength="8">
                    </div>
                    <div class="form-group">
                        <label>Confirm Password *</label>
                        <input type="password" name="confirmPassword" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Farm Name *</label>
                        <input type="text" name="farmName" required>
                    </div>
                    <div class="form-group">
                        <label>Farm Type *</label>
                        <select name="farmType" required>
                            <option value="">Select</option>
                            <option value="Dairy">Dairy</option>
                            <option value="Poultry">Poultry</option>
                            <option value="Goat">Goat</option>
                            <option value="Sheep">Sheep</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>State *</label>
                        <input type="text" name="state" required>
                    </div>
                    <div class="form-group">
                        <label>Farm Size (acres)</label>
                        <input type="number" name="farmSize">
                    </div>
                </div>

                <div class="form-group full-width">
                    <label>Address</label>
                    <textarea name="address"></textarea>
                </div>

                <button type="submit" class="register-btn">Create Account</button>

                <!-- ✅ Added login option -->
                <p style="text-align:center; margin-top:15px; font-size:0.95rem; color:#555;">
                    Already have an account? 
                    <a href="login.html" style="color:#2c5530; font-weight:600; text-decoration:none;">
                        Login here
                    </a>
                </p>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('registerForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const formData = new FormData(this);

            const btn = document.querySelector('.register-btn');
            btn.disabled = true;
            btn.textContent = "Registering...";

            try {
                const response = await fetch("register.php", {
                    method: "POST",
                    body: formData
                });

                const result = await response.json();

                if (result.status === "success") {
                    document.getElementById('successMessage').style.display = "block";
                    document.getElementById('errorMessage').style.display = "none";
                    this.reset();
                } else {
                    document.getElementById('errorMessage').innerText = result.message;
                    document.getElementById('errorMessage').style.display = "block";
                    document.getElementById('successMessage').style.display = "none";
                }

            } catch (error) {
                document.getElementById('errorMessage').innerText = "Server error: " + error;
                document.getElementById('errorMessage').style.display = "block";
            }

            btn.disabled = false;
            btn.textContent = "Create Account";
        });
    </script>
</body>
</html>
